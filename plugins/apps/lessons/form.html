
<div ng-app="lessonsApp" ng-controller="FormCtrl">
<h2>Lesson {{lesson.title}}</h2>

<form id="lessonForm" name="lessonForm" ng-submit="submitForm(lessonForm.$valid)" novalidate>
  <div class="form-group" ng-class="{ 'has-error' : errors.title }">
	<input type="text" class="form-control" id="title" name="title" placeholder="Title" ng-model="lesson.title" required>
	<p ng-show="errors.title" class="help-block">{{errors.title}}</p>
  </div>
  <div class="form-group" ng-class="{ 'has-error' : errors.tags }">
    <input type="text" class="form-control" id="tags" name="tags" placeholder="Tags, separated by space" ng-model="lesson.tags" ng-change="loadJourneys()" required>
	<p ng-show="errors.tags" class="help-block">{{errors.tags}}</p>
  </div>
  <div class="form-group">
  Based on the tags this lesson will show up in these journeys:
  <div id="journeys">
  <span>&nbsp;</span>
  <span ng-show="journeys.length == 0">None</span>
  <span ng-repeat="journey in journeys">{{journey.title}}&nbsp;</span>
  </div>
  </div>
  <button id="save" name="save" type="submit" class="btn btn-primary">Save</button>
  <a id="cancel" href="{{current.backPath}}" class="btn btn-default">Cancel</a>
</form>


